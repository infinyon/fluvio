[package]
authors = ["Fluvio Contributors <team@fluvio.io>"]
description = "Fluvio Test utility"
edition = "2021"
license = "Apache-2.0"
name = "fluvio-test-util"
publish = false
repository = "https://github.com/infinyon/fluvio"
version = "0.0.0"

[features]
default = []
telemetry = [
  "fluvio-test-init-tracing-macro",
  "tracing-subscriber",
  "tracing-opentelemetry",
  "opentelemetry",
  "opentelemetry-jaeger",
]

[dependencies]
async-trait = "0.1.21"
bytes = "1.0"
clap = {version = "3.1.8", features = ["std", "derive"], default-features = false}
comfy-table = "5.0.1"
dyn-clone = "1.0"
futures-lite = "1.11.0"
hdrhistogram = "7.3.0"
humantime = "2.1"
inventory = "0.1"
linkme = "0.3"
once_cell = "1.7.2"
proc-macro2 = "1.0"
quote = "1.0"
semver = "1.0.0"
serde = "1.0"
serde_json = "1.0"
uuid = {version = "0.8", features = ["serde", "v4"]}

syn = "1.0"
tokio = {version = "1.4", features = ["macros"]}
tracing = "0.1"
tracing-futures = "0.2.5"

fluvio = {path = "../fluvio"}
fluvio-cluster = {path = "../fluvio-cluster"}
fluvio-command = {version = "0.2.0"}
fluvio-controlplane-metadata = {features = ["k8"], path = "../fluvio-controlplane-metadata"}
fluvio-future = {version = "0.4.0", features = ["task", "timer", "subscriber", "fixture"]}

# External tracing

fluvio-test-init-tracing-macro = {path = "./setup/init-tracing-macro", optional = true}
opentelemetry = {version = "0.17.0", features = ["async-std", "trace"], optional = true}
opentelemetry-jaeger = {version = "0.16.0", features = [
  "rt-async-std",
  "isahc",
  "isahc_collector_client",
  "collector_client",
], optional = true}
tracing-opentelemetry = {version = "0.17", optional = true}
tracing-subscriber = {version = "0.3", features = ["std", "env-filter"], optional = true}

[lib]
path = "lib.rs"
