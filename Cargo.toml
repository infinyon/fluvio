[workspace]
members = [
    "examples/00-echo",
    "src/cli",
    "src/client",
    "src/cluster",
    "src/controlplane",
    "src/controlplane-metadata",
    "src/dataplane-protocol",
    "src/sc",
    "src/sc-schema",
    "src/spu",
    "src/spu-schema",
    "src/storage",
    "src/stream-dispatcher",
    "src/stream-model",
    "src/types",
    "src/utils",
    "tests/runner",
]

# profile to make image sizer smaller
# comment out for now
[profile.release]
lto = true
codegen-units = 1
incremental = false

# Used to make eyre faster on debug builds
# See https://github.com/yaahc/color-eyre#improving-perf-on-debug-builds
[profile.dev.package.backtrace]
opt-level = 3

[patch.crates-io]
async-tls = { version = "0.10.0", git = "https://github.com/infinyon/async-tls.git", rev = "375f2a483a7bdf85d66a29c3b68258a78c515a93" }
flv-tls-proxy = { version = "0.2.2", git = "https://github.com/nacardin/flv-tls-proxy.git", rev = "e423bdd273e4c0729bec67b826a6b198e461c3b2" }