cargo-features = ["strip"]

[workspace]
members = [
    "src/cli",
    "src/client",
    "src/internal-api",
    "src/kf-socket",
    "src/kf-service",
    "src/metadata",
    "src/eventstream-model",
    "src/eventstream-dispatcher",
    "src/controlplane-api",
    "src/controlplane",
    "src/controlplane-cli",
    "src/dataplane-api",
    "src/dataplane",
    "src/storage",
    "src/types",
    "src/utils",
    "tests/runner",
]

[patch.crates-io]
#k8-client = { path = "../k8-api/src/k8-client" }
#k8-metadata-client = { path = "../k8-api/src/k8-metadata-client"}
#k8-obj-core = { path = "../k8-api/src/k8-obj-core"}
#k8-obj-app = { path = "../k8-api/src/k8-obj-app"}
#k8-obj-metadata = { path = "../k8-api/src/k8-obj-metadata"}
#k8-config = { path = "../k8-api/src/k8-config"}
#k8-diff = { path = "../k8-api/src/k8-diff"}
#flv-future-aio = { path = "../flv-future/src/future-aio"}


# profile to make image sizer smaller
# comment out for now
[profile.release]
lto = true
codegen-units = 1
incremental = false
strip = "symbols"